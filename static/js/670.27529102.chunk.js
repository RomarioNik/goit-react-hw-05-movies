"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[670],{670:function(e,n,r){r.r(n),r.d(n,{default:function(){return I}});var t,u,a,i,c,o=r(861),s=r(439),p=r(757),f=r.n(p),d=r(791),l=r(87),h=r(689),v=r(243),x=r(116),g=r(168),m=r(444),b=m.default.div(t||(t=(0,g.Z)(["\n  padding: 20px;\n  width: 100%;\n"]))),y=m.default.form(u||(u=(0,g.Z)(["\n  display: flex;\n"]))),Z=m.default.input(a||(a=(0,g.Z)(["\n  height: 30px;\n  width: 100%;\n  padding-left: 10px;\n  max-width: 300px;\n  border-radius: 4px 0 0 4px;\n  border: 1px solid ",";\n  border-right: none;\n  outline: none;\n"])),(function(e){return e.theme.colors.borderColor})),w=m.default.button(i||(i=(0,g.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 10px;\n  color: ",";\n  cursor: pointer;\n  border: 1px solid ",";\n  border-left: none;\n  border-radius: 0 4px 4px 0;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.secondText}),(function(e){return e.theme.colors.borderColor}),(function(e){return e.theme.colors.bgItems})),k=m.default.div(c||(c=(0,g.Z)(["\n  padding: 20px;\n"]))),j=r(184),_="idle",S="pending",U="resolved",C="rejected",q=function(){var e,n=(0,l.lr)(),r=(0,s.Z)(n,2),t=r[0],u=r[1],a=(0,d.useState)((function(){var e;return null!==(e=t.get("query"))&&void 0!==e?e:""})),i=(0,s.Z)(a,2),c=i[0],p=i[1],g=(0,d.useState)([]),m=(0,s.Z)(g,2),q=m[0],I=m[1],z=(0,d.useState)(_),H=(0,s.Z)(z,2),T=H[0],D=H[1],E=(0,h.TH)();(0,d.useEffect)((function(){var e=function(){var e=(0,o.Z)(f().mark((function e(n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D(S),e.next=4,(0,v.z1)(n);case 4:if(0!==(r=e.sent).data.results.length){e.next=8;break}return D(C),e.abrupt("return");case 8:I(r.data.results),D(U),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),D(C);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}();c&&e(c)}),[c]);return(0,j.jsxs)(b,{children:[(0,j.jsxs)(y,{onSubmit:function(e){e.preventDefault();var n=e.target.search.value;p(n)},children:[(0,j.jsx)(Z,{type:"text",name:"search",value:null!==(e=t.get("query"))&&void 0!==e?e:"",onChange:function(e){var n=e.target.value,r=""!==n.trim()?{query:n.trim()}:{};u(r),""===n.trim()&&(D(_),p(""))}}),(0,j.jsx)(w,{type:"submit",children:"Search"})]}),(0,j.jsxs)(k,{children:[T===_&&(0,j.jsx)("div",{}),T===S&&(0,j.jsx)(x.Z,{}),T===C&&(0,j.jsx)("div",{children:"We don't found any movie."}),T===U&&(0,j.jsx)("ul",{children:q.map((function(e){var n=e.id,r=e.title;return(0,j.jsx)("li",{children:(0,j.jsx)(l.rU,{to:"/movies/".concat(n),state:{from:E},children:r})},n)}))})]})]})},I=function(){return(0,j.jsx)(q,{})}},243:function(e,n,r){r.d(n,{HI:function(){return s},IQ:function(){return f},Jh:function(){return p},e2:function(){return o},z1:function(){return d}});var t=r(861),u=r(757),a=r.n(u),i=r(924);i.Z.defaults.baseURL="https://api.themoviedb.org/3";var c="80fe24ea6ea4db327f1f3c79898b7ba2",o=function(){var e=(0,t.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/trending/all/day",{params:{api_key:c,language:"en-US"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=(0,t.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/movie/".concat(n),{params:{api_key:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=(0,t.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/movie/".concat(n,"/reviews"),{params:{language:"en-US",page:1,api_key:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,t.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/movie/".concat(n,"/credits"),{params:{language:"en-US",api_key:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=(0,t.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/search/movie",{params:{query:n,include_adult:!1,language:"en-US",page:1,api_key:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=670.27529102.chunk.js.map