{"version":3,"file":"static/js/670.27529102.chunk.js","mappings":"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","sources":["components/Search/Search.styled.jsx","components/Search/Search.jsx","pages/MoviesPage.jsx","services/movieApi.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n  padding: 20px;\n  width: 100%;\n`;\n\nexport const Form = styled.form`\n  display: flex;\n`;\n\nexport const Input = styled.input`\n  height: 30px;\n  width: 100%;\n  padding-left: 10px;\n  max-width: 300px;\n  border-radius: 4px 0 0 4px;\n  border: 1px solid ${({ theme }) => theme.colors.borderColor};\n  border-right: none;\n  outline: none;\n`;\n\nexport const Button = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 10px;\n  color: ${({ theme }) => theme.colors.secondText};\n  cursor: pointer;\n  border: 1px solid ${({ theme }) => theme.colors.borderColor};\n  border-left: none;\n  border-radius: 0 4px 4px 0;\n  background-color: ${({ theme }) => theme.colors.bgItems};\n`;\n\nexport const ListWrapper = styled.div`\n  padding: 20px;\n`;\n","import { useState, useEffect } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { searchMovies } from 'services/movieApi';\nimport Loader from 'components/Loader';\nimport { Wrapper, Form, Input, Button, ListWrapper } from './Search.styled';\n\nconst STATUS = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nconst Search = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [searchText, setSearchText] = useState(\n    () => searchParams.get('query') ?? ''\n  );\n  const [movies, setMovies] = useState([]);\n  const [status, setStatus] = useState(STATUS.IDLE);\n\n  const location = useLocation();\n\n  useEffect(() => {\n    const fetchMovies = async text => {\n      try {\n        setStatus(STATUS.PENDING);\n        const movies = await searchMovies(text);\n        if (movies.data.results.length === 0) {\n          setStatus(STATUS.REJECTED);\n          return;\n        }\n        setMovies(movies.data.results);\n        setStatus(STATUS.RESOLVED);\n      } catch (error) {\n        console.log(error);\n        setStatus(STATUS.REJECTED);\n      }\n    };\n\n    if (searchText) fetchMovies(searchText);\n  }, [searchText]);\n\n  const handleSubmitForm = e => {\n    e.preventDefault();\n    const { value } = e.target.search;\n    setSearchText(value);\n  };\n\n  const updateQueryString = ({ target: { value } }) => {\n    const param = value.trim() !== '' ? { query: value.trim() } : {};\n    setSearchParams(param);\n\n    if (value.trim() === '') {\n      setStatus(STATUS.IDLE);\n      setSearchText('');\n    }\n  };\n\n  return (\n    <Wrapper>\n      <Form onSubmit={handleSubmitForm}>\n        <Input\n          type=\"text\"\n          name=\"search\"\n          value={searchParams.get('query') ?? ''}\n          onChange={updateQueryString}\n        />\n        <Button type=\"submit\">Search</Button>\n      </Form>\n      <ListWrapper>\n        {status === STATUS.IDLE && <div></div>}\n\n        {status === STATUS.PENDING && <Loader />}\n\n        {status === STATUS.REJECTED && <div>We don't found any movie.</div>}\n\n        {status === STATUS.RESOLVED && (\n          <ul>\n            {movies.map(({ id, title }) => (\n              <li key={id}>\n                <Link to={`/movies/${id}`} state={{ from: location }}>\n                  {title}\n                </Link>\n              </li>\n            ))}\n          </ul>\n        )}\n      </ListWrapper>\n    </Wrapper>\n  );\n};\n\nexport default Search;\n","import Search from '../components/Search';\n\nconst MoviesPage = () => {\n  return <Search />;\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = '80fe24ea6ea4db327f1f3c79898b7ba2';\n\nexport const getTranding = async () => {\n  return await axios.get('/trending/all/day', {\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n    },\n  });\n};\n\nexport const getMovie = async id => {\n  return await axios.get(`/movie/${id}`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n};\n\nexport const getReviews = async id => {\n  return await axios.get(`/movie/${id}/reviews`, {\n    params: {\n      language: 'en-US',\n      page: 1,\n      api_key: API_KEY,\n    },\n  });\n};\n\nexport const getCast = async id => {\n  return await axios.get(`/movie/${id}/credits`, {\n    params: {\n      language: 'en-US',\n      api_key: API_KEY,\n    },\n  });\n};\n\nexport const searchMovies = async searchText => {\n  return await axios.get('/search/movie', {\n    params: {\n      query: searchText,\n      include_adult: false,\n      language: 'en-US',\n      page: 1,\n      api_key: API_KEY,\n    },\n  });\n};\n"],"names":["Wrapper","styled","Form","Input","theme","colors","borderColor","Button","secondText","bgItems","ListWrapper","STATUS","useSearchParams","searchParams","setSearchParams","useState","get","searchText","setSearchText","movies","setMovies","status","setStatus","location","useLocation","useEffect","fetchMovies","text","searchMovies","data","results","length","console","log","onSubmit","e","preventDefault","value","target","search","type","name","onChange","param","trim","query","Loader","map","id","title","to","state","from","axios","API_KEY","getTranding","params","api_key","language","getMovie","getReviews","page","getCast","include_adult"],"sourceRoot":""}